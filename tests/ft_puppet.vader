Include: include/setup.vader

Execute (puppet parser, syntax error: end of input):
  new
  let maker = NeomakeTestsFixtureMaker('neomake#makers#ft#puppet#puppet',
  \ 'tests/fixtures/input/puppet/syntax-error-eoi.pp')
  CallNeomake 1, [maker]

  let bufnr = bufnr('%')
  AssertEqual getloclist(0), [{
  \ 'lnum': 0,
  \ 'bufnr': bufnr,
  \ 'col': 0,
  \ 'valid': 1,
  \ 'vcol': 0,
  \ 'nr': -1,
  \ 'type': 'E',
  \ 'pattern': '',
  \ 'text': 'Syntax error at end of input'
  \ }]
  bwipe

Execute (puppet parser, syntax error in specific line):
  new
  let maker = NeomakeTestsFixtureMaker('neomake#makers#ft#puppet#puppet',
  \ 'tests/fixtures/input/puppet/syntax-error.pp')
  CallNeomake 1, [maker]

  let bufnr = bufnr('%')
  AssertEqual getloclist(0), [{
  \ 'lnum': 3,
  \ 'bufnr': bufnr,
  \ 'col': 3,
  \ 'valid': 1,
  \ 'vcol': 0,
  \ 'nr': -1,
  \ 'type': 'E',
  \ 'pattern': '',
  \ 'text': "Syntax error at 'file'"
  \ }]
  bwipe

Execute (puppet linter):
  new
  let maker = NeomakeTestsFixtureMaker('neomake#makers#ft#puppet#puppetlint',
  \ 'tests/fixtures/input/puppet-lint/err_and_warn.pp')
  " AssertEqual '', maker
  CallNeomake 1, [maker]
  Log neomake#utils#redir('ls!')

  let bufnr = bufnr('%')
  AssertEqual getloclist(0), [{
  \ 'lnum': 4,
  \ 'bufnr': bufnr,
  \ 'col': 10,
  \ 'valid': 1,
  \ 'vcol': 0,
  \ 'nr': -1,
  \ 'type': 'W',
  \ 'pattern': '',
  \ 'text': '[arrow_alignment] indentation of => is not properly aligned (expected in column 12, but found it in column 10)'
  \ }]
  bwipe

